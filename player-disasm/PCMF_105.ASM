

;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2011 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-327F-7274-B7			    |
; |			       ESET spol. s r.o.			    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	FD51889B7A1037D0F094969907D31292
; Input	CRC32 :	84045339

; File Name   :	D:\VStudio-Programme\VC2010\CMFResearch\PCMF_105.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	1000h Range: 10000h-13580h Loaded length: 2A10h
; Entry	Point :	1000:3D2
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.686p
		.mmx
		.model large

; ===========================================================================

; Segment type:	Pure code
seg000		segment	byte public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
byte_10000	db 10h dup(0)		; DATA XREF: dseg:0662o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ParseCmdLine	proc near		; CODE XREF: _main+12p

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	di
		push	si
		mov	dx, [bp+arg_0]
		mov	di, 1
		cmp	dx, di
		ja	short loc_10025
		jmp	loc_100F7
; ---------------------------------------------------------------------------

loc_10025:				; CODE XREF: ParseCmdLine+10j
		mov	[bp+var_6], di
		mov	ax, dx
		dec	ax
		mov	[bp+var_4], ax

loc_1002E:				; CODE XREF: ParseCmdLine+E1j
		mov	bx, [bp+arg_2]
		mov	si, [bx]
		push	si		; char *
		call	_strupr
		add	sp, 2
		cmp	byte ptr [si], '/'
		jz	short loc_10042
		jmp	loc_100CC
; ---------------------------------------------------------------------------

loc_10042:				; CODE XREF: ParseCmdLine+2Dj
		inc	si
		mov	al, [si]
		sub	ah, ah
		cmp	ax, 'S'
		jz	short loc_1007A	; /S=A.EXE [execution command]
		ja	short loc_1005A
		sub	al, '?'         ; /? [help]
		jz	short loc_1006C
		sub	al, 9		; /H [help]
		jz	short loc_1006C
		sub	al, 9		; /Q [quiet mode]
		jz	short loc_10072

loc_1005A:				; CODE XREF: ParseCmdLine+3Cj
		mov	ax, 6
		push	ax		; int
		call	ShowError
		add	sp, 2

loc_10064:				; CODE XREF: ParseCmdLine+5Fj
		mov	[bp+var_6], 0
		jmp	short loc_100E8
; ---------------------------------------------------------------------------
		align 2

loc_1006C:				; CODE XREF: ParseCmdLine+40j
					; ParseCmdLine+44j
		call	ShowHelp
		jmp	short loc_10064
; ---------------------------------------------------------------------------
		align 2

loc_10072:				; CODE XREF: ParseCmdLine+48j
		mov	QuietMode, 1
		jmp	short loc_100E8
; ---------------------------------------------------------------------------
		align 2

loc_1007A:				; CODE XREF: ParseCmdLine+3Aj
		mov	[bp+var_2], si
		inc	[bp+var_2]
		mov	bx, [bp+var_2]
		cmp	byte ptr [bx], '='
		jnz	short loc_100C6
		inc	[bp+var_2]
		mov	si, offset ExecCommand
		push	ds
		pop	es
		assume es:dseg
		mov	di, [bp+var_2]
		mov	cx, 0FFFFh
		xor	ax, ax
		repne scasb
		not	cx
		sub	di, cx
		xchg	di, si
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		mov	ax, offset ExecCommand
		push	ax
		call	sub_11F12
		add	sp, 2
		cmp	ExecCommand, 0
		jnz	short loc_100E8
		mov	ax, 3

loc_100BC:				; CODE XREF: ParseCmdLine+B9j
		push	ax		; int
		call	ShowError
		add	sp, 2
		jmp	short loc_100E8
; ---------------------------------------------------------------------------
		align 2

loc_100C6:				; CODE XREF: ParseCmdLine+76j
		mov	ax, 5
		jmp	short loc_100BC
; ---------------------------------------------------------------------------
		align 2

loc_100CC:				; CODE XREF: ParseCmdLine+2Fj
		mov	di, si
		mov	si, offset curFileName
		push	ds
		pop	es
		mov	cx, 0FFFFh
		xor	ax, ax
		repne scasb
		not	cx
		sub	di, cx
		xchg	di, si
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb

loc_100E8:				; CODE XREF: ParseCmdLine+59j
					; ParseCmdLine+67j ...
		add	[bp+arg_2], 2
		dec	[bp+var_4]
		jz	short loc_100F4
		jmp	loc_1002E
; ---------------------------------------------------------------------------

loc_100F4:				; CODE XREF: ParseCmdLine+DFj
		mov	di, [bp+var_6]

loc_100F7:				; CODE XREF: ParseCmdLine+12j
		or	di, di
		jz	short loc_1011E
		cmp	curFileName, 0
		jnz	short loc_10110
		sub	di, di
		mov	ax, 1
		push	ax		; int
		call	ShowError
		add	sp, 2
		jmp	short loc_1011E
; ---------------------------------------------------------------------------

loc_10110:				; CODE XREF: ParseCmdLine+F0j
		mov	ax, offset a_cmf ; ".CMF"
		push	ax
		mov	ax, offset curFileName
		push	ax		; char *
		call	AppendFileExt
		add	sp, 4

loc_1011E:				; CODE XREF: ParseCmdLine+E9j
					; ParseCmdLine+FEj
		mov	ax, di
		pop	si
		pop	di
		mov	sp, bp
		pop	bp
		retn
ParseCmdLine	endp


; =============== S U B	R O U T	I N E =======================================


ShowSplash	proc near		; CODE XREF: _main+1Bp	ShowHelp+5p
		cmp	QuietMode, 0
		jnz	short locret_1014B
		mov	ax, offset aCreativeMusi_0 ; "Creative Music File Player  Version 1.0"...
		push	ax		; char *
		call	_printf
		add	sp, 2
		mov	ax, offset aCopyrightCCrea ; "Copyright	(c) Creative Labs, Inc., 1990"...
		push	ax		; char *
		call	_printf
		add	sp, 2
		mov	ax, offset aCopyrightCCr_0 ; "Copyright	(c) Creative Technology	Ltd, "...
		push	ax		; char *
		call	_printf
		add	sp, 2

locret_1014B:				; CODE XREF: ShowSplash+5j
		retn
ShowSplash	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc near		; CODE XREF: start+B0p

argc		= word ptr  4
argv		= dword	ptr  6
envp		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		mov	dx, [bp+argc]
		cmp	dx, 1
		jle	short ShowUsage
		mov	ax, word ptr [bp+argv]
		inc	ax
		inc	ax
		push	ax
		push	dx
		call	ParseCmdLine
		mov	sp, bp
		or	ax, ax
		jz	short loc_101C7
		call	ShowSplash
		call	FindFMDRV
		or	ax, ax
		jz	short loc_101B8
		mov	ax, ' '
		push	ax
		mov	ax, offset curFileName
		push	ax
		call	FindFile
		mov	sp, bp
		or	ax, ax
		jz	short loc_101A4
		mov	ax, offset curFileName
		push	ax
		call	LoadFile
		mov	sp, bp
		or	ax, ax
		jz	short loc_10192
		call	PlayFile

loc_10192:				; CODE XREF: _main+41j
		mov	ax, word ptr FileDataPtr+2
		or	ax, word ptr FileDataPtr
		jz	short loc_101B1
		push	word ptr FileDataPtr+2 ; void *
		call	_free
		jmp	short loc_101AF
; ---------------------------------------------------------------------------

loc_101A4:				; CODE XREF: _main+34j
		mov	ax, offset curFileName
		push	ax		; char *
		mov	ax, 2
		push	ax		; int
		call	ShowError

loc_101AF:				; CODE XREF: _main+56j
		mov	sp, bp

loc_101B1:				; CODE XREF: _main+4Dj
		call	UninitFMDRV
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_101B8:				; CODE XREF: _main+23j
		sub	ax, ax
		push	ax		; int
		call	ShowError
		mov	sp, bp
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

ShowUsage:				; CODE XREF: _main+9j
		call	ShowHelp

loc_101C7:				; CODE XREF: _main+19j
		mov	sp, bp
		pop	bp
		retn
_main		endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================


ShowHelp	proc near		; CODE XREF: ParseCmdLine:loc_1006Cp
					; _main:ShowUsagep
		mov	QuietMode, 0
		call	ShowSplash
		mov	ax, offset aUsagePlaycmfMu ; "Usage: PLAYCMF music-filename  [/Q] [/S"...
		push	ax		; char *
		call	_printf
		add	sp, 2
		mov	ax, offset aQSetQuietModeS ; "\n\t/Q :	  set quiet mode\n\t/S :    execu"...
		push	ax		; char *
		call	_printf
		add	sp, 2
		retn
ShowHelp	endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadFile	proc near		; CODE XREF: _main+3Ap

var_6		= word ptr -6
var_4		= word ptr -4
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	di
		push	si
		mov	di, word ptr [bp+arg_0]
		sub	si, si
		push	di
		call	GetFileSize
		add	sp, 2
		add	ax, 0Fh
		mov	cl, 4
		shr	ax, cl
		push	ax
		call	malloc_seg
		add	sp, 2
		mov	[bp+var_6], ax
		mov	[bp+var_4], dx
		mov	word ptr FileDataPtr, ax
		mov	word ptr FileDataPtr+2,	dx
		or	dx, ax
		jz	short loc_10262
		sub	ax, ax
		push	ax
		push	di		; char *
		call	_fopen
		add	sp, 4
		or	ax, ax
		jnz	short loc_10234
		mov	ax, 4
		push	ax		; int
		call	ShowError
		jmp	short loc_1025F
; ---------------------------------------------------------------------------

loc_10234:				; CODE XREF: LoadFile+3Fj
		mov	di, ax

loc_10236:				; CODE XREF: LoadFile+6Cj
		push	[bp+var_4]	; size_t
		push	[bp+var_6]	; size_t
		mov	ax, 8000h
		push	ax
		push	di		; void *
		call	_fread
		add	sp, 8
		mov	si, ax
		add	[bp+var_6], si
		jnz	short loc_10252
		add	byte ptr [bp+var_4+1], 10h

loc_10252:				; CODE XREF: LoadFile+62j
		cmp	si, 8000h
		jz	short loc_10236
		mov	si, 1
		push	di		; FILE *
		call	_fclose

loc_1025F:				; CODE XREF: LoadFile+48j
		add	sp, 2

loc_10262:				; CODE XREF: LoadFile+31j
		mov	ax, si
		pop	si
		pop	di
		mov	sp, bp
		pop	bp
		retn
LoadFile	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PlayFile	proc near		; CODE XREF: _main+43p

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	di
		push	si
		mov	ax, offset fmDrvMarker
		push	ds
		push	ax
		call	cmfSetMarkerPtr
		add	sp, 4
		mov	[bp+var_C], ax
		mov	[bp+var_A], dx
		call	cmfResetPlayer
		mov	ax, word ptr FileDataPtr
		mov	dx, word ptr FileDataPtr+2
		mov	si, ax
		mov	[bp+var_2], dx
		les	bx, FileDataPtr
		assume es:nothing
		push	word ptr es:[bx+24h]
		add	bx, es:[bx+6]
		push	es
		push	bx
		call	cmfSetTimbrePtr
		add	sp, 6
		mov	es, [bp+var_2]
		mov	ax, es:[si+0Ch]
		cwd
		push	dx
		push	ax
		mov	ax, 34DCh
		mov	dx, 12h
		push	dx
		push	ax
		mov	di, es
		call	__aNldiv
		push	ax
		call	cmfSetPlayerPeriod
		add	sp, 2
		mov	es, di
		mov	ax, es:[si+8]
		add	ax, word ptr FileDataPtr
		mov	dx, word ptr FileDataPtr+2
		push	dx
		push	ax
		call	cmfStartPlaying
		add	sp, 4
		cmp	ExecCommand, 0
		jnz	short loc_102E4
		jmp	loc_1036A
; ---------------------------------------------------------------------------

loc_102E4:				; CODE XREF: PlayFile+75j
		mov	ax, offset ExecCommand
		push	ax		; char *
		call	_system
		add	sp, 2
		cmp	QuietMode, 0
		jnz	short loc_1036A
		mov	ax, offset aReturnToPlaycm ; "Return to	PLAYCMF\n"
		push	ax		; char *
		call	_printf
		add	sp, 2
		jmp	short loc_1036A
; ---------------------------------------------------------------------------
		align 2

loc_10302:				; CODE XREF: PlayFile+105j
		call	_kbhit
		or	ax, ax
		jz	short loc_1036A
		call	_getch
		mov	si, ax
		or	al, al
		jz	short loc_1031D
		sub	ah, ah
		push	ax		; int
		call	_toupper
		add	sp, 2
		mov	si, ax

loc_1031D:				; CODE XREF: PlayFile+A6j
		cmp	si, 1Bh
		jnz	short loc_10328
		call	cmfStopPlaying
		jmp	short loc_1036A
; ---------------------------------------------------------------------------
		align 2

loc_10328:				; CODE XREF: PlayFile+B6j
		cmp	si, 'S'
		jnz	short loc_1036A
		call	_tell_last
		mov	di, ax
		mov	[bp+var_2], dx
		mov	ax, offset aComspec ; "COMSPEC"
		push	ax		; char *
		call	_getenv
		add	sp, 2
		mov	si, ax
		or	si, si
		jz	short loc_10360
		mov	ax, offset aTypeExitToRetu ; "Type \"EXIT\" to return to PLAYCMF\n"
		push	ax		; char *
		call	_printf
		add	sp, 2
		push	si		; char *
		call	_system
		add	sp, 2
		mov	ax, offset aReturnToPlaycm ; "Return to	PLAYCMF\n"
		push	ax		; char *
		call	_printf
		add	sp, 2

loc_10360:				; CODE XREF: PlayFile+D9j
		push	[bp+var_2]
		push	di
		call	_seek_last
		add	sp, 4

loc_1036A:				; CODE XREF: PlayFile+77j PlayFile+89j ...
		cmp	fmDrvMarker, 0
		jnz	short loc_10302
		cmp	QuietMode, 0
		jnz	short loc_10382
		mov	ax, offset aMusicStopped_ ; "Music stopped."
		push	ax		; char *
		call	_printf
		add	sp, 2

loc_10382:				; CODE XREF: PlayFile+10Cj
		push	[bp+var_A]
		push	[bp+var_C]
		call	cmfSetMarkerPtr
		add	sp, 4
		pop	si
		pop	di
		mov	sp, bp
		pop	bp
		retn
PlayFile	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl ShowError(int, char *)
ShowError	proc near		; CODE XREF: ParseCmdLine+4Ep
					; ParseCmdLine+ADp ...

var_52		= byte ptr -52h
arg_0		= word ptr  4
arg_2		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 52h
		push	si
		mov	si, [bp+arg_0]
		push	si
		mov	ax, offset aError6202d ; "Error	62%02d:	"
		push	ax		; char *
		call	_printf
		add	sp, 4
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; char *
		shl	si, 1
		push	ErrorStrList[si]
		lea	ax, [bp+var_52]
		push	ax		; char *
		call	_sprintf
		add	sp, 8
		lea	ax, [bp+var_52]
		push	ax
		mov	ax, offset aS	; "%s\n"
		push	ax		; char *
		call	_printf
		add	sp, 4
		pop	si
		mov	sp, bp
		pop	bp
		retn
ShowError	endp

		assume ss:seg002, ds:nothing
; [000000B8 BYTES: COLLAPSED FUNCTION start. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

__cintDIV:
		mov	ax, word ptr cs:__dataseg
		mov	ds, ax
		mov	ax, 3
		mov	ss:off_12546, 58Ah
; [00000021 BYTES: COLLAPSED CHUNK OF FUNCTION __fptrap. PRESS KEYPAD "+" TO EXPAND]
		db 0
; [000000CE BYTES: COLLAPSED FUNCTION __cinit. PRESS KEYPAD "+"	TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION _exit. PRESS KEYPAD "+" TO EXPAND]
; [0000007A BYTES: COLLAPSED FUNCTION __exit. PRESS KEYPAD "+" TO EXPAND]
; [0000002D BYTES: COLLAPSED FUNCTION __ctermsub. PRESS	KEYPAD "+" TO EXPAND]
; [0000000F BYTES: COLLAPSED FUNCTION sub_10638. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION sub_10647. PRESS KEYPAD "+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION __FF_MSGBANNER. PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION __fptrap.	PRESS KEYPAD "+" TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION __aNchkstk. PRESS	KEYPAD "+" TO EXPAND]
		align 2
; [00000022 BYTES: COLLAPSED FUNCTION __nullcheck. PRESS KEYPAD	"+" TO EXPAND]
; [0000018E BYTES: COLLAPSED FUNCTION __setargv. PRESS KEYPAD "+" TO EXPAND]
; [0000007D BYTES: COLLAPSED FUNCTION __setenvp. PRESS KEYPAD "+" TO EXPAND]
		align 2
; [0000002B BYTES: COLLAPSED FUNCTION __NMSG_TEXT. PRESS KEYPAD	"+" TO EXPAND]
; [00000035 BYTES: COLLAPSED FUNCTION __NMSG_WRITE. PRESS KEYPAD "+" TO	EXPAND]
; [00000023 BYTES: COLLAPSED FUNCTION __myalloc. PRESS KEYPAD "+" TO EXPAND]
		align 2
; [00000008 BYTES: COLLAPSED CHUNK OF FUNCTION _access.	PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

__dosreturn:
		jnb	short loc_1094C
		push	ax
		call	sub_10972
		pop	ax
		xor	ah, ah
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
; [0000000D BYTES: COLLAPSED CHUNK OF FUNCTION __dospawn. PRESS	KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

__maperror:
		xor	ah, ah
		call	sub_10972
		retn

; =============== S U B	R O U T	I N E =======================================


sub_10972	proc near		; CODE XREF: seg000:0955p
					; __dospawn:loc_10961p	...
		mov	byte ptr word_12589, al
		or	ah, ah
		jnz	short loc_1099B
		cmp	byte ptr word_12586, 3
		jb	short loc_1098C
		cmp	al, 22h	; '"'
		jnb	short loc_10990
		cmp	al, 20h	; ' '
		jb	short loc_1098C
		mov	al, 5
		jmp	short loc_10992
; ---------------------------------------------------------------------------

loc_1098C:				; CODE XREF: sub_10972+Cj
					; sub_10972+14j
		cmp	al, 13h
		jbe	short loc_10992

loc_10990:				; CODE XREF: sub_10972+10j
		mov	al, 13h

loc_10992:				; CODE XREF: sub_10972+18j
					; sub_10972+1Cj
		mov	bx, 30Ch
		xlat

loc_10996:				; CODE XREF: sub_10972+2Bj
		cbw
		mov	word_1257E, ax
		retn
; ---------------------------------------------------------------------------

loc_1099B:				; CODE XREF: sub_10972+5j
		mov	al, ah
		jmp	short loc_10996
sub_10972	endp

; ---------------------------------------------------------------------------
		align 2
; [0000003C BYTES: COLLAPSED FUNCTION _printf. PRESS KEYPAD "+"	TO EXPAND]
; [000000E0 BYTES: COLLAPSED FUNCTION __flsbuf.	PRESS KEYPAD "+" TO EXPAND]
; [00000041 BYTES: COLLAPSED FUNCTION __getbuf.	PRESS KEYPAD "+" TO EXPAND]
		align 2
; [00000071 BYTES: COLLAPSED FUNCTION __stbuf. PRESS KEYPAD "+"	TO EXPAND]
; [0000003E BYTES: COLLAPSED FUNCTION __ftbuf. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [00000072 BYTES: COLLAPSED FUNCTION _fflush. PRESS KEYPAD "+"	TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION _flushall. PRESS KEYPAD "+" TO EXPAND]
; [00000049 BYTES: COLLAPSED FUNCTION flsall. PRESS KEYPAD "+" TO EXPAND]
		align 2
off_10C72	dw offset loc_10CD8	; DATA XREF: __output+51r
		dw offset loc_10CE3
		dw offset loc_10CF7
		dw offset loc_10D2B
		dw offset loc_10D57
		dw offset loc_10D5F
		dw offset loc_10D88
		dw offset loc_10DBA
; [0000040A BYTES: COLLAPSED FUNCTION __output.	PRESS KEYPAD "+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION sub_1108C. PRESS KEYPAD "+" TO EXPAND]
; [0000000C BYTES: COLLAPSED FUNCTION sub_11094. PRESS KEYPAD "+" TO EXPAND]
; [0000001D BYTES: COLLAPSED FUNCTION sub_110A0. PRESS KEYPAD "+" TO EXPAND]
; [00000029 BYTES: COLLAPSED FUNCTION sub_110BD. PRESS KEYPAD "+" TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION sub_110E6. PRESS KEYPAD "+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION sub_11104. PRESS KEYPAD "+" TO EXPAND]
; [00000031 BYTES: COLLAPSED FUNCTION sub_11120. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000006 BYTES: COLLAPSED CHUNK OF FUNCTION __output. PRESS KEYPAD "+" TO EXPAND]
		align 2
; [0000007A BYTES: COLLAPSED FUNCTION _lseek. PRESS KEYPAD "+" TO EXPAND]
; [000000B1 BYTES: COLLAPSED FUNCTION _write. PRESS KEYPAD "+" TO EXPAND]
; [00000058 BYTES: COLLAPSED FUNCTION sub_11283. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000034 BYTES: COLLAPSED CHUNK OF FUNCTION _write. PRESS KEYPAD "+"	TO EXPAND]
		align 2

; =============== S U B	R O U T	I N E =======================================


sub_11310	proc near		; CODE XREF: _write+5Dp
		pop	cx
		mov	ax, word_125B8
		cmp	ax, sp
		jnb	short loc_1131E
		sub	ax, sp
		neg	ax

loc_1131C:				; CODE XREF: sub_11310+10j
		jmp	cx
; ---------------------------------------------------------------------------

loc_1131E:				; CODE XREF: sub_11310+6j
		xor	ax, ax
		jmp	short loc_1131C
sub_11310	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: thunk

sub_11322	proc near		; CODE XREF: __myalloc+Cp __getbuf+Bp	...
		jmp	sub_1134B
sub_11322	endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================

; Attributes: thunk

sub_11326	proc near		; CODE XREF: __cenvarg+205p
					; comexebat+71p ...
		jmp	sub_1132A
sub_11326	endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1132A	proc near		; CODE XREF: sub_11326j

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	bx, [bp+arg_0]
		mov	si, 29Ah
		cmp	[si+6],	bx
		jnb	short loc_11346
		dec	bx
		dec	bx
		or	byte ptr [bx], 1
		cmp	[si+8],	bx
		jbe	short loc_11346
		mov	[si+8],	bx

loc_11346:				; CODE XREF: sub_1132A+Dj
					; sub_1132A+17j
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_1132A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1134B	proc near		; CODE XREF: sub_11322j

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cx, [bp+arg_0]
		cmp	cx, 0FFE8h
		ja	short loc_1136A
		mov	bx, 29Ah
		call	__searchseg
		jnb	short loc_1136F
		call	__growseg
		jb	short loc_1136A
		call	__searchseg
		jnb	short loc_1136F

loc_1136A:				; CODE XREF: sub_1134B+Bj
					; sub_1134B+18j
		xor	ax, ax
		cwd
		jmp	short $+2

loc_1136F:				; CODE XREF: sub_1134B+13j
					; sub_1134B+1Dj
		pop	di
		pop	si
		pop	bp
		retn
sub_1134B	endp

; ---------------------------------------------------------------------------
		align 2
; [0000007C BYTES: COLLAPSED FUNCTION __searchseg. PRESS KEYPAD	"+" TO EXPAND]
; [0000008C BYTES: COLLAPSED FUNCTION __growseg. PRESS KEYPAD "+" TO EXPAND]
; [00000051 BYTES: COLLAPSED FUNCTION __incseg.	PRESS KEYPAD "+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION __findlast. PRESS	KEYPAD "+" TO EXPAND]
		align 2
; [0000003F BYTES: COLLAPSED FUNCTION _strcat. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [00000032 BYTES: COLLAPSED FUNCTION _strcpy. PRESS KEYPAD "+"	TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION _strlen. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [0000003A BYTES: COLLAPSED FUNCTION _strncmp.	PRESS KEYPAD "+" TO EXPAND]
; [0000000B BYTES: COLLAPSED FUNCTION __toupper. PRESS KEYPAD "+" TO EXPAND]
		align 2
; [00000016 BYTES: COLLAPSED FUNCTION _toupper.	PRESS KEYPAD "+" TO EXPAND]
; [00000059 BYTES: COLLAPSED FUNCTION _getenv. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [00000056 BYTES: COLLAPSED FUNCTION _sprintf.	PRESS KEYPAD "+" TO EXPAND]
; [0000002A BYTES: COLLAPSED FUNCTION _strchr. PRESS KEYPAD "+"	TO EXPAND]
; [00000042 BYTES: COLLAPSED FUNCTION _stricmp.	PRESS KEYPAD "+" TO EXPAND]
; [0000002B BYTES: COLLAPSED FUNCTION _strrchr.	PRESS KEYPAD "+" TO EXPAND]
		align 2
; [0000001E BYTES: COLLAPSED FUNCTION _strupr. PRESS KEYPAD "+"	TO EXPAND]
; [0000004A BYTES: COLLAPSED FUNCTION __getpath. PRESS KEYPAD "+" TO EXPAND]
; [00000255 BYTES: COLLAPSED FUNCTION __cenvarg. PRESS KEYPAD "+" TO EXPAND]
		align 2
word_119DE	dw 0			; DATA XREF: __dospawn+6Cw
					; __dospawn+B5r
word_119E0	dw 0			; DATA XREF: __dospawn+67w
					; __dospawn+B0r
word_119E2	dw 0			; DATA XREF: __dospawn+76w
					; __dospawn+CBr
word_119E4	dw 0			; DATA XREF: __dospawn+7Ew
					; __dospawn+C3r
word_119E6	dw 0			; DATA XREF: __dospawn+83w
					; __dospawn+BEr
; [000000E8 BYTES: COLLAPSED FUNCTION __dospawn. PRESS KEYPAD "+" TO EXPAND]
; [0000007F BYTES: COLLAPSED FUNCTION comexebat. PRESS KEYPAD "+" TO EXPAND]
		align 2
; [00000122 BYTES: COLLAPSED FUNCTION _spawnve.	PRESS KEYPAD "+" TO EXPAND]
; [00000142 BYTES: COLLAPSED FUNCTION _spawnvpe. PRESS KEYPAD "+" TO EXPAND]
; [0000008F BYTES: COLLAPSED FUNCTION _system. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [00000014 BYTES: COLLAPSED FUNCTION __execload. PRESS	KEYPAD "+" TO EXPAND]
; [0000001F BYTES: COLLAPSED FUNCTION _access. PRESS KEYPAD "+"	TO EXPAND]
		align 2
; [0000009A BYTES: COLLAPSED FUNCTION __aNldiv.	PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_11F12	proc near		; CODE XREF: ParseCmdLine+9Cp

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	es
		push	di
		push	si
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		mov	si, [bp+arg_0]
		mov	di, si

loc_11F21:				; CODE XREF: sub_11F12+16j
		lodsb
		or	al, al
		jz	short loc_11F2A
		cmp	al, 20h	; ' '
		jz	short loc_11F21

loc_11F2A:				; CODE XREF: sub_11F12+12j
					; sub_11F12+1Ej
		stosb
		or	al, al
		jz	short loc_11F32
		lodsb
		jmp	short loc_11F2A
; ---------------------------------------------------------------------------

loc_11F32:				; CODE XREF: sub_11F12+1Bj
		mov	ax, [bp+arg_0]
		pop	si
		pop	di
		pop	es
		assume es:nothing
		pop	bp
		retn
sub_11F12	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; FILE *__cdecl	fopen(const char *, const char *)
_fopen		proc near		; CODE XREF: LoadFile+37p

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	ax, [bp+arg_2]
		mov	ah, 3Dh	; '='
		mov	dx, [bp+arg_0]
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read, 1 -	write, 2 - read	& write
		jnb	short loc_11F54
		mov	word_12C76, ax
		sub	ax, ax

loc_11F54:				; CODE XREF: _fopen+13j
		pop	bp
		retn
_fopen		endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	ah, 3Ch	; '<'
		mov	cx, 20h	; ' '
		mov	dx, [bp+4]
		int	21h		; DOS -	2+ - CREATE A FILE WITH	HANDLE (CREAT)
					; CX = attributes for file
					; DS:DX	-> ASCIZ filename (may include drive and path)
		jnb	short loc_11F70
		mov	word_12C76, ax
		sub	ax, ax

loc_11F70:				; CODE XREF: seg000:1F69j
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; size_t __cdecl fread(void *, size_t, size_t, FILE *)
_fread		proc near		; CODE XREF: LoadFile+57p

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	bx, [bp+arg_0]
		mov	cx, [bp+arg_2]
		mov	ah, 3Fh	; '?'
		push	ds
		lds	dx, [bp+arg_4]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		jnb	short loc_11F91
		mov	word_12C76, ax
		sub	ax, ax

loc_11F91:				; CODE XREF: _fread+18j
		pop	bp
		retn
_fread		endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	bx, [bp+4]
		mov	cx, [bp+6]
		mov	ah, 40h	; '@'
		push	ds
		lds	dx, [bp+8]
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jnb	short loc_11FB2
		mov	word_12C76, ax
		sub	ax, ax

loc_11FB2:				; CODE XREF: seg000:1FABj
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl fclose(FILE *)
_fclose		proc near		; CODE XREF: LoadFile+72p

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	bx, [bp+arg_0]
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		jnb	short loc_11FC9
		mov	word_12C76, ax

loc_11FC9:				; CODE XREF: _fclose+10j
		pop	bp
		retn
_fclose		endp

; ---------------------------------------------------------------------------
		align 2
		push	bp
		mov	bp, sp
		mov	ah, 48h	; 'H'
		mov	bx, [bp+4]
		mov	cx, 100h
		add	bx, 0Fh
		jb	short loc_11FE6
		shr	bx, 1
		shr	bx, 1
		shr	bx, 1
		shr	bx, 1
		mov	cx, bx

loc_11FE6:				; CODE XREF: seg000:1FDAj
		mov	bx, cx
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		jnb	short loc_11FEE
		sub	ax, ax

loc_11FEE:				; CODE XREF: seg000:1FEAj
		mov	dx, ax
		sub	ax, ax
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

malloc_seg	proc near		; CODE XREF: LoadFile+1Cp

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		mov	ah, 48h	; 'H'
		mov	bx, [bp+arg_0]
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		jnb	short loc_12002
		sub	ax, ax

loc_12002:				; CODE XREF: malloc_seg+Aj
		mov	dx, ax
		sub	ax, ax
		pop	bp
		retn
malloc_seg	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __cdecl free(void *)
_free		proc near		; CODE XREF: _main+53p

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	es
		mov	ah, 49h	; 'I'
		mov	es, [bp+arg_0]
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		pop	es
		pop	bp
		retn
_free		endp

; ---------------------------------------------------------------------------
		db 0B4h, 48h, 0BBh, 2 dup(0FFh), 0CDh, 21h, 8Bh, 2 dup(0C3h)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FindFile	proc near		; CODE XREF: _main+2Dp	GetFileSize+2Ap

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		mov	word_12C76, 0
		mov	ah, 4Eh	; 'N'
		mov	cx, [bp+arg_2]
		mov	dx, [bp+arg_0]
		int	21h		; DOS -	2+ - FIND FIRST	ASCIZ (FINDFIRST)
					; CX = search attributes
					; DS:DX	-> ASCIZ filespec
					; (drive, path,	and wildcards allowed)
		mov	cx, ax
		mov	ax, 1
		jnb	short loc_12040
		mov	word_12C76, cx
		sub	ax, ax

loc_12040:				; CODE XREF: FindFile+18j
		pop	bp
		retn
FindFile	endp


; =============== S U B	R O U T	I N E =======================================


_tell_last	proc near		; CODE XREF: PlayFile+C3p
					; GetFileSize+7p
		push	es
		mov	ah, 2Fh
		int	21h		; DOS -	GET DISK TRANSFER AREA ADDRESS
					; Return: ES:BX	-> DTA
		mov	dx, es
		mov	ax, bx
		pop	es
		retn
_tell_last	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_seek_last	proc near		; CODE XREF: PlayFile+FAp
					; GetFileSize+14p ...

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		push	ds
		lds	dx, [bp+arg_0]
		mov	ah, 1Ah
		int	21h		; DOS -	SET DISK TRANSFER AREA ADDRESS
					; DS:DX	-> disk	transfer buffer
		pop	ds
		pop	bp
		retn
_seek_last	endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl AppendFileExt(char *)
AppendFileExt	proc near		; CODE XREF: ParseCmdLine+108p

var_2		= dword	ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	di
		push	si
		mov	ax, 5Ch	; '\'
		push	ax
		push	word ptr [bp+arg_0] ; char *
		call	_strrchr
		add	sp, 4
		mov	word ptr [bp+var_2], ax
		or	ax, ax
		jnz	short loc_1207E
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_2], ax

loc_1207E:				; CODE XREF: AppendFileExt+1Aj
		mov	ax, 2Eh	; '.'
		push	ax
		push	word ptr [bp+var_2] ; char *
		call	_strchr
		add	sp, 4
		mov	word ptr [bp+var_2], ax
		or	ax, ax
		jz	short loc_1209A
		mov	bx, ax
		mov	byte ptr [bx], 0
		jmp	short loc_120A9
; ---------------------------------------------------------------------------
		align 2

loc_1209A:				; CODE XREF: AppendFileExt+34j
		sub	ax, ax
		push	ax
		push	word ptr [bp+arg_0] ; char *
		call	_strchr
		add	sp, 4
		mov	word ptr [bp+var_2], ax

loc_120A9:				; CODE XREF: AppendFileExt+3Bj
		push	ds
		pop	es
		assume es:dseg
		mov	di, word ptr [bp+arg_0+2]
		mov	si, word ptr [bp+var_2]
		mov	cx, 0FFFFh
		xor	ax, ax
		repne scasb
		not	cx
		sub	di, cx
		xchg	di, si
		shr	cx, 1
		repne movsw
		adc	cx, cx
		repne movsb
		mov	ax, word ptr [bp+arg_0]
		pop	si
		pop	di
		mov	sp, bp
		pop	bp
		retn
AppendFileExt	endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================


; int kbhit(void)
_kbhit		proc near		; CODE XREF: PlayFile:loc_10302p
		mov	ah, 1
		int	16h		; KEYBOARD - CHECK BUFFER, DO NOT CLEAR
					; Return: ZF clear if character	in buffer
					; AH = scan code, AL = character
					; ZF set if no character in buffer
		jnz	short loc_120DA
		sub	ax, ax
		jmp	short locret_120E1
; ---------------------------------------------------------------------------

loc_120DA:				; CODE XREF: _kbhit+4j
		or	ax, ax
		jnz	short locret_120E1
		mov	ax, 0FFFFh

locret_120E1:				; CODE XREF: _kbhit+8j	_kbhit+Cj
		retn
_kbhit		endp


; =============== S U B	R O U T	I N E =======================================


; int getch(void)
_getch		proc near		; CODE XREF: PlayFile+9Fp
		sub	ah, ah
		int	16h		; KEYBOARD - READ CHAR FROM BUFFER, WAIT IF EMPTY
					; Return: AH = scan code, AL = character
		retn
_getch		endp

; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================


GetFileSize	proc near		; CODE XREF: LoadFile+Ep
		push	bp
		sub	sp, 84h
		mov	bp, sp
		call	_tell_last
		mov	[bp+80h], ax
		mov	[bp+82h], dx
		push	ss
		push	bp
		call	_seek_last
		add	sp, 4
		sub	ax, ax
		mov	[bp+1Ah], ax
		mov	[bp+1Ch], ax
		mov	ax, 20h	; ' '
		push	ax
		push	word ptr [bp+88h]
		call	FindFile
		add	sp, 4
		push	word ptr [bp+82h]
		push	word ptr [bp+80h]
		call	_seek_last
		add	sp, 4
		mov	ax, [bp+1Ah]
		mov	dx, [bp+1Ch]
		add	sp, 84h
		pop	bp
		retn
GetFileSize	endp


; =============== S U B	R O U T	I N E =======================================


FindFMDRV	proc near		; CODE XREF: _main+1Ep
		push	es
		mov	ax, 3580h

loc_12136:				; CODE XREF: FindFMDRV+4Cj
		push	ax
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		pop	ax
		mov	bx, 103h
		cmp	word ptr es:[bx], 'MF'
		jnz	short loc_1217A
		cmp	word ptr es:[bx+2], 'RD'
		jnz	short loc_1217A
		cmp	word ptr es:[bx+4], 'V'
		jnz	short loc_1217A
		sub	ah, ah
		call	$+3
		pop	bx
		add	bx, 31h
		mov	cs:[bx], al
		push	ax
		mov	dx, seg	dseg
		mov	ax, offset fmDrvMarker
		mov	bx, 1
		call	CallFMDRV
		mov	word ptr cs:prevMarkerPtr, ax
		mov	word ptr cs:prevMarkerPtr+2, dx
		pop	ax
		jmp	short loc_12182
; ---------------------------------------------------------------------------
		align 2

loc_1217A:				; CODE XREF: FindFMDRV+10j
					; FindFMDRV+18j ...
		inc	al
		cmp	al, 0C0h
		jb	short loc_12136
		sub	ax, ax

loc_12182:				; CODE XREF: FindFMDRV+45j
		pop	es
		assume es:nothing
		retn
FindFMDRV	endp

; ---------------------------------------------------------------------------
prevMarkerPtr	dd 0			; DATA XREF: FindFMDRV+3Bw
					; UninitFMDRV+Br ...

; =============== S U B	R O U T	I N E =======================================


CallFMDRV	proc near		; CODE XREF: FindFMDRV+38p
					; cmfSetMarkerPtr+Cp ...
		int	80h
		retn
CallFMDRV	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

cmfSetMarkerPtr	proc near		; CODE XREF: PlayFile+Dp PlayFile+11Ep

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	bx, 1
		call	CallFMDRV
		pop	bp
		retn
cmfSetMarkerPtr	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

cmfStartPlaying	proc near		; CODE XREF: PlayFile+6Ap

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	bx, 6
		call	CallFMDRV
		pop	bp
		retn
cmfStartPlaying	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

cmfSetTimbrePtr	proc near		; CODE XREF: PlayFile+36p

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	cx, [bp+arg_4]
		mov	bx, 2
		call	CallFMDRV
		pop	bp
		retn
cmfSetTimbrePtr	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

cmfResetPlayer	proc near		; CODE XREF: PlayFile+19p
		push	bp
		mov	bp, sp
		mov	bx, 8
		call	CallFMDRV
		pop	bp
		retn
cmfResetPlayer	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ax, [bp+4]
		mov	bx, 3
		call	CallFMDRV
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

cmfSetPlayerPeriod proc	near		; CODE XREF: PlayFile+54p

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		mov	bx, 4
		call	CallFMDRV
		pop	bp
		retn
cmfSetPlayerPeriod endp


; =============== S U B	R O U T	I N E =======================================


cmfStopPlaying	proc near		; CODE XREF: PlayFile+B8p
		mov	bx, 7
		call	CallFMDRV
		retn
cmfStopPlaying	endp

; ---------------------------------------------------------------------------
		mov	bx, 0
		call	CallFMDRV
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ax, [bp+4]
		mov	bx, 5
		call	CallFMDRV
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	bx, 9
		call	CallFMDRV
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	bx, 0Ah
		call	CallFMDRV
		pop	bp
		retn
; ---------------------------------------------------------------------------
		pushf
		sub	ax, ax
		cli
		cmp	byte ptr fmDrvMarker, 0
		jz	short loc_1222B
		mov	al, 0FFh
		xchg	al, byte ptr fmDrvMarker

loc_1222B:				; CODE XREF: seg000:2223j
		popf
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UninitFMDRV	proc near		; CODE XREF: _main:loc_101B1p
		push	bp
		mov	bp, sp
		mov	bx, 1
		mov	dx, word ptr cs:prevMarkerPtr+2
		mov	ax, word ptr cs:prevMarkerPtr
		call	CallFMDRV
		pop	bp
		retn
UninitFMDRV	endp

; ---------------------------------------------------------------------------
		mov	bx, 0Ch
		call	CallFMDRV
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	es
		mov	cl, [bp+4]
		mov	ch, [bp+6]
		cmp	cl, 0
		jb	short loc_1226D
		cmp	cl, 0Fh
		ja	short loc_1226D
		mov	bx, 0Ch
		call	CallFMDRV
		xor	bx, bx
		mov	bl, cl
		add	bx, ax
		mov	es, dx
		mov	es:[bx], ch

loc_1226D:				; CODE XREF: seg000:2255j seg000:225Aj
		pop	es
		pop	bp
		retn
; ---------------------------------------------------------------------------
		mov	bx, 0Dh
		call	CallFMDRV
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	di
		mov	ax, [bp+4]
		mov	dx, [bp+6]
		mov	cx, [bp+8]
		mov	di, [bp+0Ah]
		mov	bx, 0Eh
		call	CallFMDRV
		pop	di
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ax, [bp+4]
		mov	bx, 0Fh
		call	CallFMDRV
		pop	bp
		retn
; ---------------------------------------------------------------------------
		dd unk_122B0
		align 10h
seg000		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg
unk_122B0	db    0			; DATA XREF: seg000:229Eo
		db    0
word_122B2	dw 0			; DATA XREF: start+6Bw
		align 8
aMsRunTimeLibra	db 'MS Run-Time Library - Copyright (c) 1990, Microsoft Corp'
		db  18h
		db    0
aSbfmdrvNotInst	db 'SBFMDRV not installed',0 ; DATA XREF: dseg:ErrorStrListo
aCreativeMusicF	db 'Creative Music File not specified',0 ; DATA XREF: dseg:023Ao
aSDoesNotExist	db '"%s" does not exist',0 ; DATA XREF: dseg:023Co
aInvalidExecuti	db 'invalid execution command',0 ; DATA XREF: dseg:023Eo
aOpenFileError	db 'open file error',0  ; DATA XREF: dseg:0240o
aEqualSignMissi	db 'equal sign missing',0 ; DATA XREF: dseg:0242o
aUnknownSwitch	db 'unknown switch',0   ; DATA XREF: dseg:0244o
a_cmf		db '.CMF',0             ; DATA XREF: ParseCmdLine:loc_10110o
		db    0
aCreativeMusi_0	db 'Creative Music File Player  Version 1.05',0Ah,0
					; DATA XREF: ShowSplash+7o
aCopyrightCCrea	db 'Copyright (c) Creative Labs, Inc., 1990-1993.  All rights reserve'
					; DATA XREF: ShowSplash+11o
		db 'd.',0Ah,0
		db    0
aCopyrightCCr_0	db 'Copyright (c) Creative Technology Ltd, 1990-1993.  All rights res'
					; DATA XREF: ShowSplash+1Bo
		db 'erved.',0Ah
		db 0Ah,0
aUsagePlaycmfMu	db 'Usage: PLAYCMF music-filename  [/Q] [/S="execution command"]',0Ah,0
					; DATA XREF: ShowHelp+8o
aQSetQuietModeS	db 0Ah			; DATA XREF: ShowHelp+12o
		db 9,'/Q :    set quiet mode',0Ah
		db 9,'/S :    execute the execution command specified.',0Ah,0
aReturnToPlaycm	db 'Return to PLAYCMF',0Ah,0 ; DATA XREF: PlayFile+8Bo
					; PlayFile+ECo
		db    0
ErrorStrList	dw offset aSbfmdrvNotInst ; DATA XREF: ShowError+1Dr
					; "SBFMDRV not installed"
		dw offset aCreativeMusicF ; "Creative Music File not specified"
		dw offset aSDoesNotExist ; "\"%s\" does	not exist"
		dw offset aInvalidExecuti ; "invalid execution command"
		dw offset aOpenFileError ; "open file error"
		dw offset aEqualSignMissi ; "equal sign	missing"
		dw offset aUnknownSwitch ; "unknown switch"
QuietMode	db 0			; DATA XREF: ParseCmdLine:loc_10072w
					; ShowSplashr ...
aComspec	db 'COMSPEC',0          ; DATA XREF: PlayFile+CBo
aTypeExitToRetu	db 'Type "EXIT" to return to PLAYCMF',0Ah,0 ; DATA XREF: PlayFile+DBo
aMusicStopped_	db 'Music stopped.',0   ; DATA XREF: PlayFile+10Eo
aError6202d	db 'Error 62%02d: ',0   ; DATA XREF: ShowError+Bo
aS		db '%s',0Ah,0           ; DATA XREF: ShowError+2Fo
		align 2
word_12544	dw 0			; DATA XREF: start+64w
off_12546	dw offset __exit	; DATA XREF: seg000:0493w
					; __fptrap-1C5r
word_12548	dw 0			; DATA XREF: start+40w
		align 4
		db    5
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
a_c_file_info	db '_C_FILE_INFO=',0    ; DATA XREF: __setenvp+53r
dword_12570	dd 0			; DATA XREF: __cinit+5w __ctermsub+Er	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_1257E	dw 0			; DATA XREF: sub_10972+25w
					; __cenvarg+97w ...
		db    0
		db    0
		db    0
		db    0
word_12584	dw 0			; DATA XREF: start+79w	__cinit+28r ...
word_12586	dw 0			; DATA XREF: __setargv+8w sub_10972+7r
		db    0
word_12589	dw 0			; DATA XREF: sub_10972w __cenvarg+9Dw	...
word_1258B	dw 14h			; DATA XREF: _lseek+9r	_write+9r ...
		db  81h	; Å
		db  81h	; Å
		db  81h	; Å
		db    1
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; int argc
argc		dw 0			; DATA XREF: start+ACr	__setargv+C3w
; char **argv
argv		dw 0			; DATA XREF: start+A8r	__setargv+D6w
; char **word_125A5
word_125A5	dw 0			; DATA XREF: start+A4r	__setenvp+40w ...
word_125A7	dw 2FBh			; DATA XREF: __setargv+2Ew
					; __setargv+E4r
seg_125A9	dw seg dseg		; DATA XREF: __setargv+1Bw
		align 2
word_125AC	dw 0			; DATA XREF: __dospawn+A0w
					; __dospawn+D5w
byte_125AE	db 0			; DATA XREF: __ctermsub+18r
byte_125AF	db 0			; DATA XREF: __ctermsub+20r
dword_125B0	dd 0			; DATA XREF: __ctermsub+23r
word_125B4	dw 0			; DATA XREF: __FF_MSGBANNER+Ar
					; __FF_MSGBANNER+11r
		db 0FFh
		db 0FFh
word_125B8	dw 0BD0h		; DATA XREF: __aNchkstk+7r
					; sub_11310+1r
word_125BA	dw 0			; DATA XREF: __setargvw __setargv+18Ar
		db    0
		db  16h
		db    2
		db    2
		db  18h
		db  0Dh
		db    9
		db  0Ch
		db  0Ch
		db  0Ch
		db    7
		db    8
		db  16h
		db  16h
		db 0FFh
		db    2
		db  0Dh
		db  12h
		db    2
		db 0FFh
		db    0
		db    0
		db 0C2h	; ¬
		db    7
		db    0
		db    0
		db 0C2h	; ¬
		db    7
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    2
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    2
		db    2
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  84h	; Ñ
		db    3
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    2
		db    4
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    1
		db    0
		db    0
		db    2
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_12712	dw 3BAh			; DATA XREF: flsall:loc_10C42r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db    0
		db    0
		db    6
		db    0
		db    1
		db    0
		db    0
		db  10h
		db    0
		db    3
		db    6
		db    0
		db    6
		db    2
		db  10h
		db    4
		db  45h	; E
		db  45h	; E
		db  45h	; E
		db    5
		db    5
		db    5
		db    5
		db    5
		db  35h	; 5
		db  30h	; 0
		db    0
		db  50h	; P
		db    0
		db    0
		db    0
		db    0
		db  20h
		db  20h
		db  30h	; 0
		db  50h	; P
		db  58h	; X
		db    7
		db    8
		db    0
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  57h	; W
		db  50h	; P
		db    7
		db    0
		db    0
		db  20h
		db  20h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    8
		db  60h	; `
		db  60h	; `
		db  60h	; `
		db  60h	; `
		db  60h	; `
		db  60h	; `
		db    0
		db    0
		db  70h	; p
		db  70h	; p
		db  78h	; x
		db  78h	; x
		db  78h	; x
		db  78h	; x
		db    8
		db    7
		db    8
		db    0
		db    0
		db    7
		db    0
		db    8
		db    8
		db    8
		db    0
		db    0
		db    8
		db    0
		db    8
		db    0
		db    0
		db    8
aNull		db '(null)'
word_12779	dw 6			; DATA XREF: __output+1A6r
		align 2
word_1277C	dw 2000h		; DATA XREF: __myalloc+6w
					; __myalloc+10w ...
off_1277E	dw offset __fptrap	; DATA XREF: __output:loc_10F01r
off_12780	dw offset __fptrap	; DATA XREF: __output+2ABr
		db  7Ah	; z
		db    6
off_12784	dw offset __fptrap	; DATA XREF: __output+297r
		db  7Ah	; z
		db    6
off_12788	dw offset __fptrap	; DATA XREF: __output+275r
		align 8
		public __ctype
; unsigned __int8 _ctype[]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h ; DATA XREF:	_toupper+6r
		db  20h, 20h, 28h, 28h,	28h, 28h, 28h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 48h, 10h, 10h,	10h, 10h, 10h, 10h
		db  10h, 10h, 10h, 10h,	10h, 10h, 10h, 10h
		db  10h, 84h, 84h, 84h,	84h, 84h, 84h, 84h
		db  84h, 84h, 84h, 10h,	10h, 10h, 10h, 10h
		db  10h, 10h, 81h, 81h,	81h, 81h, 81h, 81h
		db    1,   1,	1,   1,	  1,   1,   1,	 1
		db    1,   1,	1,   1,	  1,   1,   1,	 1
		db    1,   1,	1,   1,	10h, 10h, 10h, 10h
		db  10h, 10h, 82h, 82h,	82h, 82h, 82h, 82h
		db    2,   2,	2,   2,	  2,   2,   2,	 2
		db    2,   2,	2,   2,	  2,   2,   2,	 2
		db    2,   2,	2,   2,	10h, 10h, 10h, 10h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		align 2
		db  2Fh	; /
		db  63h	; c
		db  20h
		db    0
word_12896	dw 0			; DATA XREF: __cenvarg:loc_117C7r
word_12898	dw 0			; DATA XREF: __dospawn+29w
word_1289A	dw 0			; DATA XREF: __dospawn+2Fw
					; __dospawn+40r
word_1289C	dw 0			; DATA XREF: __dospawn+32w
		db 0F6h	; ˆ
		db    5
word_128A0	dw 0			; DATA XREF: __dospawn+36w
		db    6
		db    6
word_128A4	dw 0			; DATA XREF: __dospawn+3Aw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
aComspec_0	db 'COMSPEC',0
a_bat		db '.bat',0             ; DATA XREF: dseg:off_128DEo
a_exe		db '.exe',0             ; DATA XREF: dseg:0630o
a_com		db '.com',0             ; DATA XREF: dseg:0632o
		db    0
off_128DE	dw offset a_bat		; DATA XREF: _spawnve+64r
					; ".bat"
		dw offset a_exe		; ".exe"
		dw offset a_com		; ".com"
aPath		db 'PATH',0
		db '\',0
		db    0
aComspec_1	db 'COMSPEC',0
aC		db '/c',0
aCommand_com	db 'command.com',0
		db    0
fmDrvMarker	dw 0			; DATA XREF: PlayFile+8o
					; PlayFile:loc_1036Ar ...
word_12906	dw 0			; DATA XREF: start+8Fr
word_12908	dw 0			; DATA XREF: __fptrap-1D9r __exit+31r	...
off_1290A	dw offset locret_10489	; DATA XREF: __NMSG_WRITE+26r
					; _write+1Er ...
off_1290C	dw offset locret_10489	; DATA XREF: __fptrap-1CEr
off_1290E	dw offset locret_10489	; DATA XREF: __exit+39r
		db    0
		db    0
		dd byte_10000
		align 4
dword_12918	dd 0			; DATA XREF: __cinit+19r __cinit+39r ...
dword_1291C	dd 0			; DATA XREF: __cinit+31r
unk_12920	db    0			; DATA XREF: __cinit:loc_10501r
		db    0
word_12922	dw 0			; DATA XREF: __cinit+24w
		db  20h
		db  0Ch
word_12926	dw 0			; DATA XREF: __execloadr
aNmsg		db '<<NMSG>>',0
		align 2
aR6000StackOver	db 'R6000',0Dh,0Ah
		db '- stack overflow',0Dh,0Ah,0
		db    3
		db    0
aR6003IntegerDi	db 'R6003',0Dh,0Ah
		db '- integer divide by 0',0Dh,0Ah,0
		db    9
		db    0
aR6009NotEnough	db 'R6009',0Dh,0Ah
		db '- not enough space for environment',0Dh,0Ah,0
		db 0FCh	; ¸
		db    0
		db  0Dh
		db  0Ah
		db    0
		db 0FFh
		db    0
aRunTimeError	db 'run-time error ',0
		db    2
		db    0
aR6002FloatingP	db 'R6002',0Dh,0Ah
		db '- floating-point support not loaded',0Dh,0Ah,0
		db    1
		db    0
aR6001NullPoint	db 'R6001',0Dh,0Ah
		db '- null pointer assignment',0Dh,0Ah,0
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
word_12A0A	dw 0FFFFh		; DATA XREF: _sprintf+36r _sprintf+3Aw
word_12A0C	dw 0FFFFh		; DATA XREF: _sprintf+18w _sprintf+30w
word_12A0E	dw 0FFFFh		; DATA XREF: _sprintf+10w
byte_12A10	db ?			; DATA XREF: _sprintf+8w
		align 10h
curFileName	db ?			; DATA XREF: ParseCmdLine+BEo
					; ParseCmdLine+EBr ...
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
FileDataPtr	dd ?			; DATA XREF: _main+49r	LoadFile+28w ...
word_12C76	dw ?			; DATA XREF: _fopen+3w	_fopen+15w ...
ExecCommand	db ?			; DATA XREF: ParseCmdLine+7Bo
					; ParseCmdLine+98o ...
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg002		segment	byte stack 'STACK' use16
		assume cs:seg002
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
byte_12D80	db 800h	dup(?)
seg002		ends


		end start
